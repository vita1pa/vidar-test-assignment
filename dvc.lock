schema: '2.0'
stages:
  decoding_xml_to_wav:
    cmd: python -m pipeline process-xml-files --input-folder data/xml_input 
      --output-folder data/processed/extracted_wav
    deps:
    - path: data/xml_input
      hash: md5
      md5: b828ec2eb129ebc78c083bdd20011005.dir
      size: 1994595350
      nfiles: 798
    - path: pipeline/decode_xml_to_wav.py
      hash: md5
      md5: 54a958b63b16fdbfab27af732dfd913a
      size: 4203
    outs:
    - path: data/processed/extracted_wav
      hash: md5
      md5: 6f74e7fc9024c13a9a62be8f7e4c709c.dir
      size: 1495633892
      nfiles: 798
  downsampling_audio:
    cmd: python -m pipeline downsample-audio --input-folder 
      data/processed/extracted_wav --output-folder 
      data/processed/downsampled_wav --target-sr 16000
    deps:
    - path: data/processed/extracted_wav
      hash: md5
      md5: 6f74e7fc9024c13a9a62be8f7e4c709c.dir
      size: 1495633892
      nfiles: 798
    - path: pipeline/downsample_wav.py
      hash: md5
      md5: 59d50b58b86706f1c4c8794465ea6fab
      size: 4407
    outs:
    - path: data/processed/downsampled_wav
      hash: md5
      md5: 4666349f9a47b9beb8c246412a5e6ba6.dir
      size: 271346322
      nfiles: 798
  filtering_outdoor:
    cmd: python -m pipeline highpass-filter --input-folder 
      data/processed/downsampled_wav --output-folder 
      data/processed/filtered_outdoor_wav --cutoff-freq 20 --sample-rate 16000
    deps:
    - path: data/processed/downsampled_wav
      hash: md5
      md5: 4666349f9a47b9beb8c246412a5e6ba6.dir
      size: 271346322
      nfiles: 798
    - path: pipeline/filter_outdoor.py
      hash: md5
      md5: 1d6336969173511d5a77556fa1ba221f
      size: 7662
    outs:
    - path: data/processed/filtered_outdoor_wav
      hash: md5
      md5: cc7cf83a5c0fa06954cce4858715545f.dir
      size: 271346322
      nfiles: 798
  extracting_sound_data:
    cmd: python -m pipeline analyze-wav-files --input-folder 
      data/processed/filtered_outdoor_wav --output-folder 
      data/processed/wav_sound_metadata
    deps:
    - path: data/processed/filtered_outdoor_wav
      hash: md5
      md5: cc7cf83a5c0fa06954cce4858715545f.dir
      size: 271346322
      nfiles: 798
    - path: pipeline/extract_sound_data_from_wav.py
      hash: md5
      md5: a1595e81c24ce06be6d651dd5001ad85
      size: 3811
    outs:
    - path: data/processed/wav_sound_metadata/wav_metadata.csv
      hash: md5
      md5: ccc38956aa1c0b2ce960b4729bd2d688
      size: 45908
  concatenating_segments:
    cmd: python -m pipeline concatenate-audio --input-folder 
      data/processed/filtered_outdoor_wav --output-folder 
      data/processed/concatenated_wav_segments --metadata-path 
      data/processed/wav_sound_metadata/wav_metadata.csv --target-duration 1800 
      --tolerance 180
    deps:
    - path: data/processed/filtered_outdoor_wav
      hash: md5
      md5: cc7cf83a5c0fa06954cce4858715545f.dir
      size: 271346322
      nfiles: 798
    - path: data/processed/wav_sound_metadata/wav_metadata.csv
      hash: md5
      md5: ccc38956aa1c0b2ce960b4729bd2d688
      size: 45908
    - path: pipeline/concatenate_into_segments.py
      hash: md5
      md5: ea1a10212390d4ce1ae3baef38932c52
      size: 6480
    outs:
    - path: data/processed/concatenated_wav_segments
      hash: md5
      md5: 2826f8f7e1e6a4189605f65ebb22c1ca.dir
      size: 271311430
      nfiles: 5
  preparing_recording_positions:
    cmd: python -m pipeline generate-labels --input-folder 
      data/processed/concatenated_wav_segments --output-folder 
      labels/recording_positions --metadata-path 
      data/processed/wav_sound_metadata/wav_metadata.csv
    deps:
    - path: data/processed/concatenated_wav_segments
      hash: md5
      md5: 2826f8f7e1e6a4189605f65ebb22c1ca.dir
      size: 271311430
      nfiles: 5
    - path: data/processed/wav_sound_metadata/wav_metadata.csv
      hash: md5
      md5: ccc38956aa1c0b2ce960b4729bd2d688
      size: 45908
    - path: pipeline/prepare_recording_positions.py
      hash: md5
      md5: 989b5e56578ef39fe5e2abfe2697d5a3
      size: 4625
    outs:
    - path: labels/recording_positions
      hash: md5
      md5: 57f105befe7ec3fff1a8e4f368b45f16.dir
      size: 37415
      nfiles: 5
